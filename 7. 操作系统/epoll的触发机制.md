# epoll的触发机制
#7. 操作系统/IO#
- - - -
epoll模式下::默认::是水平触发。
通俗来讲：
	1. 水平触发（Level Triggered, LT）：只要有数据，epoll_wait函数就会返回。
	2. 边沿出发（Edge Triggered, ET）：只有数据到来，epoll_wait才会返回。
- - - -
## 水平触发（Level Triggered, LT）
LT是::缺省::的工作方式，并且**同时支持block和no-block socket**。在这种做法中，内核告诉你一个文件描述符是否就绪了，然后你可以对这个就绪的fd进行IO操作。如果你不作任何操作，内核还是会继续通知你的，所以，这种模式编程 _出错误可能性要小一点_ 。传统的::select/poll::都是这种模型的代表．
### 优点
当进行socket通信的时候，保证了数据的完整输出，进行IO操作的时候，如果还有数据，就会一直的通知你。
### 缺点
由于只要还有数据，内核就会不停的从内核空间转到用户空间，所有占用了大量内核资源，试想一下当有大量数据到来的时候，每次读取一个字节，这样就会不停的进行切换。内核资源的浪费严重。效率来讲也是很低的。
- - - -
## 边沿触发ET（Edge Triggered, ET）
ET是::高速工作方式::， _只支持no-block socket_ 。在这种模式下，当描述符从未就绪变为就绪时，内核通过epoll告诉你。然后它会假设你知道文件描述符已经就绪，并且不会再为那个文件描述符发送更多的就绪通知。请注意，如果一直不对这个fd作IO操作(从而导致它再次变成未就绪)，内核不会发送更多的通知(only once).
### 优点
每次内核::只会通知一次::，大大减少了内核资源的浪费，提高效率。
### 缺点
不能保证数据的完整，不能及时的取出所有的数据。
### 应用场景
处理大数据、使用NIO模式的socket。
